# 背景
小W加入到一个网站开发团队，网站需要登录功能，你被要求实现一个用户类

# stage1
团队经过一段时间讨论，你得到如下要求：
1. 账户包含账号和密码以及昵称
2. 账号和密码必填项、昵称可选

# solution1
1. 创建User类，以及相关属性
具体见stage1.h

# stage2
网站成功上线了，但是团队觉得账户界面太单调了，于是你得到如下任务：
1. 添加年龄、性别、个性签名、地区、电话号码
2. 添加的属性都可选

# analyse
如果不修改其他代码就得加构造函数，但是属性变多会有大量的构造函数可能会出现，而且可读性差，于是你决定使用getter、setter方法

# solution2
添加属性以及getter、setter方法
具体见stage2.h

# stage3
网站迭代上线后出现用户信息被覆盖或者修改的情况，经过排查发现，存在以下代码：
```
User usr=new User(name,password)
usr.setNickName(nickname)
//...

```
这些代码会导致对象不完整导致问题出现

# analyse
这个时候需要一种方法可以让对象创建出来就是完整的，一个解决方案是加锁，一个解决方案多个构造器，以及变种的builder，很明显变种builder是一个好选择(前提：编译期保证，有的编译器会先分配空间给对象，再初始化)

# solution3
使用变种builder
具体见stage3.h

# analyse
变种的builder实际是一种优雅构建对象的方法，而且不会出现不完整对象(前提：编译期保证，有的编译器会先分配空间给对象，再初始化，会出现问题)
