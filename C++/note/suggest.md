# C++开发建议
- 不要为了使用某种技术而使用，除非它确实可以简化程序复杂性
- 基于类进行设计，而不是基于类的继承而设计，可以有很简单的类但不要特别复杂的类
- 接口不一定非得是抽象基类，成员函数就是接口
- 一个进程内部的解耦意义不大
- 随着项目推荐再进行优化，不要过早优化
- 依赖确定性析构
- 把代码写的明白清楚，有利于编译器优化
- 现代CPU加减乘一样快，高出除法一个数量级
- 不要重载全局new/delete，除非debug或者优化性能

# ABI问题
- 函数传递方式
- 虚函数调用
- struct和class的内存布局
- 函数的名字改编
- RRTI和异常处理

## ABI例子
- 增加默认参数，但可执行文件无法传递这个值
- 增加虚函数，可能导致虚函数表偏移改变
- 改变模板参数，导致名字改编后不一致
- 添加或修改enum的值，可能会造成错位
- new对象，可能对象大小改变
- 直接访问成员或者使用inline的get、set函数

## 解决
- 源码编译出可执行文件
- 通过版本号控制兼容性
- pimpl技法
- 不要把虚函数作为库的接口(使用function和bind代替)


## pimpl
使用指针将对象的实现隐藏，同时降低了编译依赖(只需要前向声明)，降低耦合度

## IO
iostream，不适合带格式的数据，且ostringstream会动态分配内存不适合高性能
在项目中一般不使用iostream，而是自己写一个stream，绕过iostream，可以使用stdio或者snprintf

